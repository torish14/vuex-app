<template>
  <div id="app">
    <p>ãƒãƒŠãƒŠã¯ã€ä¸€æœ¬{{ banana }}å††ã§ã€ã‚Šã‚“ã”ã¯{{ apple }}å††ã ã‚ˆã€œ</p>
    <p>å®‰ã„ã‚ˆï¼è²·ã£ã¦ãã‹ã„ï¼Ÿä»Šãªã‚‰ã‚»ãƒƒãƒˆã§{{ banana + apple - 20 }}å††ã§ã ã‚ˆã€œï¼</p>
    <p>ã‚ã€ã™ã¾ã‚“ã­ğŸ’¦ç¨è¾¼ã¿ã ã¨ã€ãƒãƒŠãƒŠã¯{{ bananaIncludesTax }}å††ã§ã€ã‚Šã‚“ã”ã¯{{ appleIncludesTax }}å††ã§ã™ã€‚</p>
    <p>ãŠå®¢ã•ã‚“ã®ã‹ã”ã«ã¯ã„ã¾ãƒãƒŠãƒŠãŒ{{ totalBanana }}å€‹ã‚ã£ã¦ã€ã‚Šã‚“ã”ãŒ{{ totalApple }}å€‹ã‚ã‚‹ã­ã€‚</p>
    <p>ã‹ã”ã®ä¸­ã®æœç‰©ã®åˆè¨ˆé‡‘é¡ã¯ã€{{ totalAppleIncludesTax + totalBananaIncludesTax }}å††ã§ã™ï¼</p>

    <button v-if="stockBanana"
    @click="addBanana">ãƒãƒŠãƒŠã‚’ã‹ã”ã«å…¥ã‚Œã‚‹</button>
    <p v-else>ãƒãƒŠãƒŠã¯å£²ã‚Šåˆ‡ã‚Œã¡ã‚ƒã£ãŸã‚ˆğŸ’¦</p>

    <button v-if="stockApple" @click="addApple">ã‚Šã‚“ã”ã‚’ã‹ã”ã«å…¥ã‚Œã‚‹</button>
    <p v-else>ã‚Šã‚“ã”ã¯å£²ã‚Šåˆ‡ã‚Œã¡ã‚ƒã£ãŸã‚ˆğŸ’¦</p>
  </div>
</template>

<script>
import { mapState, mapGetters, mapMutations, mapActions } from 'vuex'

export default {
  computed: {
    ...mapState([
      'apple',
      'banana',
      'totalApple',
      'totalBanana',
      'stockBanana',
      'stockApple',
      'soldout'
    ]),
    ...mapGetters([
      'appleIncludesTax',
      'bananaIncludesTax',
      'totalAppleIncludesTax',
      'totalBananaIncludesTax'
    ]),
    // appleIncludesTax() {
    //   return Math.ceil( this.$store.getters.appleIncludesTax )
    // },
    // bananaIncludesTax() {
    //   return Math.ceil( this.$store.getters.bananaIncludesTax )
    // },

    // apple() {
    //   return this.$store.state.apple
    // },
    // banana() {
    //   return this.$store.state.banana
    // }
  },
  mounted() {
    this.checkStockApple()
    this.checkStockBanana()
  },
  methods: {
    ...mapMutations([
      'incrementApple',
      'incrementBanana'
    ]),
    ...mapActions([
      'checkStockApple',
      'checkStockBanana'
    ]),
    addApple() {
      this.incrementApple()
    },
    addBanana() {
      this.incrementBanana()
    }
  }
}
</script>

<style>

</style>
